{"version":3,"file":"index.js","sources":["../src/hooks/useIndexRoll.js","../src/Roll.js","../src/ItemRoll.js"],"sourcesContent":["import { useEffect, useState } from 'react'\n\nfunction useIndexRow({duration, size}, initialState = 0) {\n  const [currentIndex, setCurrentIndex] = useState(initialState)\n\n  useEffect(() => {\n    const timeout = setInterval(() => {\n      setCurrentIndex((currentIndex + 1) % size)\n    }, duration)\n    return () => clearTimeout(timeout)\n  }, [currentIndex, duration, size])\n\n  return currentIndex\n}\n\nexport default useIndexRow\n","/** @jsx jsx */\n\nimport { jsx, css } from '@emotion/core'\nimport useIndexRow from './hooks/useIndexRoll'\n\nconst containerCss = ({ width, height }) => css`\n    width: ${width}px;\n    height: ${height}px;\n    box-shadow: 1px 1px 4px 0px rgba(0, 0, 0, 0.55);\n    overflow: hidden;\n    position: relative;\n`\n\nfunction Roll({ render, numberOfItems, width, height, duration = 3000 }) {\n  const currentIndex = useIndexRow(\n    { duration, size: numberOfItems },\n    0\n  )\n\n  return <div css={containerCss({width, height})}>{render(currentIndex)}</div>\n}\n\nexport default Roll\n","/** @jsx jsx */\n\nimport { jsx, css } from '@emotion/core'\nimport { Motion, spring } from 'react-motion'\n\nconst imgCss = css`\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 0;\n`\n\nconst isPreviousCss = css`\n    z-index: 1;\n`\n\nconst isCurrentCss = css`\n    z-index: 2;\n`\n\nfunction ItemRoll({ source, isCurrent, isPrevious, css }) {\n  return (\n    <Motion\n      defaultStyle={{ x: 0 }}\n      style={{\n        x: spring(isCurrent ? 0 : isPrevious ? 600 : -600)\n      }}\n    >\n      {({ opacity, x }) => (\n        <img\n          css={[imgCss, isPrevious && isPreviousCss, isCurrent && isCurrentCss, css]}\n          src={source}\n          style={{ opacity, transform: `translateX(${x}px)` }}\n          alt='roll item'\n        />\n      )}\n    </Motion>\n  )\n}\n\nexport default ItemRoll\n"],"names":["useIndexRow","duration","size","initialState","useState","currentIndex","setCurrentIndex","timeout","setInterval","clearTimeout","containerCss","width","height","css","Roll","render","numberOfItems","jsx","imgCss","isPreviousCss","isCurrentCss","ItemRoll","source","isCurrent","isPrevious","x","spring","opacity","transform"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,SAASA,WAAT,OAAyD;MAAnCC,QAAmC,QAAnCA,QAAmC;MAAzBC,IAAyB,QAAzBA,IAAyB;MAAlBC,YAAkB,uEAAH,CAAG;;kBACfC,eAASD,YAAT,CADe;;MAChDE,YADgD;MAClCC,eADkC;;kBAG7C,YAAM;QACRC,UAAUC,YAAY,YAAM;sBAChB,CAACH,eAAe,CAAhB,IAAqBH,IAArC;KADc,EAEbD,QAFa,CAAhB;WAGO;aAAMQ,aAAaF,OAAb,CAAN;KAAP;GAJF,EAKG,CAACF,YAAD,EAAeJ,QAAf,EAAyBC,IAAzB,CALH;;SAOOG,YAAP;;;;;ACPF,IAAMK,eAAe,SAAfA,YAAe;MAAGC,KAAH,QAAGA,KAAH;MAAUC,MAAV,QAAUA,MAAV;SAAuBC,QAAvB,kBACRF,KADQ,EAEPC,MAFO;CAArB;;AAQA,SAASE,IAAT,QAAyE;MAAzDC,MAAyD,SAAzDA,MAAyD;MAAjDC,aAAiD,SAAjDA,aAAiD;MAAlCL,KAAkC,SAAlCA,KAAkC;MAA3BC,MAA2B,SAA3BA,MAA2B;6BAAnBX,QAAmB;MAAnBA,QAAmB,kCAAR,IAAQ;;MACjEI,eAAeL,YACnB,EAAEC,kBAAF,EAAYC,MAAMc,aAAlB,EADmB,EAEnB,CAFmB,CAArB;;SAKOC;;MAAK,KAAKP,aAAa,EAACC,YAAD,EAAQC,cAAR,EAAb,CAAV;WAAiDP,YAAP;GAAjD;;;;;;;ACdF,IAAMa,SAASL,QAAT,mBAAN;;AAUA,IAAMM,gBAAgBN,QAAhB,kBAAN;;AAIA,IAAMO,eAAeP,QAAf,kBAAN;;AAIA,SAASQ,QAAT,OAA0D;MAAtCC,MAAsC,QAAtCA,MAAsC;MAA9BC,SAA8B,QAA9BA,SAA8B;MAAnBC,UAAmB,QAAnBA,UAAmB;MAAPX,GAAO,QAAPA,GAAO;;SAEtDI;sBAAA;;oBACgB,EAAEQ,GAAG,CAAL,EADhB;aAES;WACFC,mBAAOH,YAAY,CAAZ,GAAgBC,aAAa,GAAb,GAAmB,CAAC,GAA3C;;;;UAGDG,OAAH,SAAGA,OAAH;UAAYF,CAAZ,SAAYA,CAAZ;aACCR;aACO,CAACC,MAAD,EAASM,cAAcL,aAAvB,EAAsCI,aAAaH,YAAnD,EAAiEP,GAAjE,CADP;aAEOS,MAFP;eAGS,EAAEK,gBAAF,EAAWC,2BAAyBH,CAAzB,QAAX,EAHT;aAIM;QALP;;GAPL;;;;;;"}